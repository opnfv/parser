tosca_definitions_version: tosca_simple_yaml_1_0
 
description: Template hosting requirements and placement policy.
 
topology_template:
  policy_types:
    policy_name:
      derived_from: parent_policy_type_name
      version: 1.0
      description: None
      metadata: 
          metadata
      properties: 
          ['p1,p2,...,pn']
      targets:
          ['target1,target2,...,targetN']
      triggers: 
          ['t1,t2,...,tk']    # omitted here for brevity
  node_templates:
    wordpress_server:
      type: tosca.nodes.WebServer
      properties:
        # omitted here for brevity
      requirements:
        - host:
            # Find a Compute node that fulfills these additional filter reqs.
            node_filter:
              capabilities:
                - host:
                    properties:
                      - mem_size: { greater_or_equal: 512 MB }
                      - disk_size: { greater_or_equal: 2 GB }
                - os:
                    properties:
                      - architecture: x86_64
                      - type: linux
    mysql:
      type: tosca.nodes.DBMS.MySQL
      properties:
        # omitted here for brevity
      requirements:
        - host:
            node: tosca.nodes.Compute
            node_filter:
              capabilities:
                - host:
                    properties:
                      - disk_size: { greater_or_equal: 1 GB }
                - os:
                    properties:
                      - architecture: x86_64
                      - type: linux
  groups:
    my_co_location_group:
      type: tosca.groups.Root
      members: [ wordpress_server, mysql ]
  policies:
  - my_anti_collocation_policy: 
    type: example_typew
    description: example policy testing
    metadata: 
      sample data
    properties: 
      ['p1 p2 p3 p4']
    targets:
      ['target1 target2 target3']
    triggers: 
      ['t1 t2 t3 t4']
